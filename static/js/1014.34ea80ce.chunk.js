"use strict";(self.webpackChunkn2_viaduct=self.webpackChunkn2_viaduct||[]).push([[1014],{1014:(t,e,s)=>{s.r(e),s.d(e,{addSpatialReferenceInfo:()=>o,destroyWasm:()=>u,initialize:()=>l,process:()=>a});var n=s(43414);let i,r;async function a(t){await l();const e={status:1,error:"",jobDescJson:"",data:new Uint8Array(0),missingInputUrls:[]};if(t.inputs.length<1)return{result:e,transferList:[]};const s={ptrs:[],sizes:[]};for(const u of t.inputs){const t=r._malloc(u.byteLength);new Uint8Array(r.HEAPU8.buffer,t,u.byteLength).set(new Uint8Array(u)),s.ptrs.push(t),s.sizes.push(u.byteLength)}const n=r.process(t.jobDescJson,t.id,s,t.isMissingResourceCase);e.status=n.status,e.missingInputUrls=n.missingInputUrls.slice();const i=0===n.status&&n.data,a=2===e.status&&e.missingInputUrls.length>0;e.jobDescJson=n.jobDescJson.slice(),e.error=n.error.slice(),i?e.data=n.data.slice():a&&(e.originalInputs=t.inputs.slice());for(let u=0;u<s.ptrs.length;++u)r._free(s.ptrs[u]);const o=[];if(i)o.push(e.data.buffer);else if(a)for(const r of t.inputs)o.push(r);return{result:e,transferList:o}}async function o(t){await l(),r.add_spatial_reference_info(t.sr,t.isGCS,t.toMetersXY,t.toMetersZ)}function u(){r&&(r.uninitialize_lyr3d_worker_wasm(),r=null)}function l(){return r?Promise.resolve():(i||(i=(0,n.h)().then(t=>{r=t,r.initialize_lyr3d_worker_wasm(),i=null})),i)}},43414:(t,e,s)=>{s.d(e,{a:()=>i,h:()=>r});var n=s(28899);function i(){return new Promise(t=>s.e(26382).then(s.bind(s,26382)).then(t=>t.l).then(e=>{let{default:s}=e;const n=s({locateFile:a,onRuntimeInitialized:()=>t(n)})})).catch(t=>{throw t})}function r(){return new Promise(t=>s.e(23409).then(s.bind(s,23409)).then(t=>t.l).then(e=>{let{default:s}=e;const n=s({locateFile:a,onRuntimeInitialized:()=>t(n)})})).catch(t=>{throw t})}function a(t){return(0,n.s)("esri/libs/lyr3d/".concat(t))}}}]);
//# sourceMappingURL=1014.34ea80ce.chunk.js.map